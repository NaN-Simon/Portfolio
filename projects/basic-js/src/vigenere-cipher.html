<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>vigenere-cipher</title>
  </head>
  <body>
    <h1>vigenere-cipher</h1>
    <script>
      /**
       * Implement class VigenereCipheringMachine that allows us to create
       * direct and reverse ciphering machines according to task description
       *
       * @example
       *
       * const directMachine = new VigenereCipheringMachine();
       *
       * const reverseMachine = new VigenereCipheringMachine(false);
       *
       * directMachine.encrypt('attack at dawn!', 'alphonse') => 'AEIHQX SX DLLU!'
       *
       * directMachine.decrypt('AEIHQX SX DLLU!', 'alphonse') => 'ATTACK AT DAWN!'
       *
       * reverseMachine.encrypt('attack at dawn!', 'alphonse') => '!ULLD XS XQHIEA'
       *
       * reverseMachine.decrypt('AEIHQX SX DLLU!', 'alphonse') => '!NWAD TA KCATTA'
       *
       */
      const LIBRARY =
        "ABCDEFGHIJKLMNOPQRSTUVWXYZ".split("");
      function encrypt(message, key) {
        if (
          Array.from(arguments).indexOf(undefined, 0) != -1 ||
          Array.from(arguments).length > 2 ||
          Array.from(arguments).length < 2
        ) {
          return "Incorrect arguments!";
        }
        key = key.toUpperCase().split("")
        message = message.toUpperCase().split(" ")
        // console.log(message, key)
        let arrKey = []
        let resultArr = []
        let queue = 0
        key.forEach((a, i) => arrKey.push(LIBRARY.indexOf(a)));
        // LIBRARY.forEach((LIBRARY_ELEM)=>{
        //   console.log(LIBRARY_ELEM)
        // })






        
        // message.forEach((element,index,arr)=>{
        //   element = element.split("")
        //   console.log(element)
        //   if(LIBRARY.includes(element)){
        //     console.log(element, (arr[index]))
        //   }
        // })
        
        
        /*1. приравниваю размер key к message*/
        /* прибавлять по  всему length, а лишнее удалять */
        // for (let i = 0; i < message.length; i++) {
        //   if (key.length < message.length) {
        //     key += key;
        //   }
        //   if (key.length > message.length) {
        //     key = key.substring(0, key.length - 1);
        //   }
        // }
        
        
        // console.log(arrKey)
      }
      // function decrypt(arg1, arg2) {}
      // console.log(encrypt("ADFF", "GB")); //GELG
      console.log(encrypt("AD FF :)", "GB")); //GE LG
      // console.log(encrypt("attack at", "alphonse")); //AEIHQX
      // console.log(encrypt("attack at dawn", 'alphonse'));//AEIHQX SX DLLU



      

    </script>
  </body>
</html>
